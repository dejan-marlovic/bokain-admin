<div *ngIf="bookingBuffer != null">
    <div class="row">
        <div class="columns">
            <bo-booking-details
                [booking]="bookingBuffer">
            </bo-booking-details>
        </div>
    </div>
    <div class="row">
        <div class="columns">
            <div *ngIf="bookingBuffer.progress == 0">
                <material-tab-panel>
                    <material-tab [label]="phrase.get(['pick', 'customer'])">
                        <div class="row">
                            <div class="columns">
                                <fo-data-table
                                        [title]="phrase.get(['pick', 'customer'])"
                                        [models]="customerService.getModelsAsMap(null, true)"
                                        [disabled]="customerService.isLoading"
                                        [rows]="5"
                                        [medium-hidden-columns]="['name']"
                                        [small-hidden-columns]="['name', 'social_number']"
                                        (rowclick)="pickCustomer($event)">
                                </fo-data-table>
                            </div>
                        </div>
                    </material-tab>
                    <material-tab [label]="phrase.get(['new_customer'])">
                        <div class="row">
                            <div class="columns">
                                <bo-customer-add (push)="pickCustomer($event)"></bo-customer-add>
                            </div>
                        </div>
                    </material-tab>
                </material-tab-panel>
            </div>
            <div class="row" *ngIf="bookingBuffer.progress >= 50">
                <div class="columns">
                    <h4>{{phrase.get(['booking_confirm'])}}</h4>
                    <p>{{phrase.get(['booking_confirm_text'])}}</p>
                </div>
                <div class="small-6 columns">
                    <material-button
                            [disabled]="bookingService.isLoading"
                            raised
                            (trigger)="goBack()">
                        <glyph icon="arrow_back"></glyph>
                    </material-button>
                </div>
                <div class="small-6 columns">
                    <material-button
                            [disabled]="bookingService.isLoading"
                            class="float-right"
                            raised
                            (trigger)="saveBooking()">
                        {{phrase.get(['book'])}}
                    </material-button>
                </div>
            </div>
        </div>
    </div>
</div>