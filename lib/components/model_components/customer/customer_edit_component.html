<div class="row" *ngIf="customer != null">
    <div class="col">
        <material-tab-panel>
            <material-tab label="{{'customer_details' | phrase}}">
                <bo-customer-details #details [customer]="customer"></bo-customer-details>
                    <div class="row">
                        <div class="col text-right">
                            <material-button
                                    raised
                                    (trigger)="cancel()">
                                {{'cancel' | phrase}}
                            </material-button>
                            <material-button
                                    raised
                                    [disabled]="!details.valid || customerService.loading"
                                    (trigger)="save()">
                                {{'save' | phrase}}
                            </material-button>
                        </div>
                    </div>
            </material-tab>
            <material-tab label="{{'booking_plural' | phrase}}">
                <div>
                    <fo-data-table
                            [models]="bookingService.getModelsAsMap(customer.bookingIds, true)"
                            [disabled]="bookingService.loading"
                            [rows]="10"
                            [medium-hidden-col]="['duration_minutes', 'user']"
                            [small-hidden-col]="['duration_minutes', 'user', 'salon']"
                            (rowclick)="selectedBookingId = $event">
                    </fo-data-table>
                    <bo-booking-details [booking]="bookingService.getModel(selectedBookingId)"></bo-booking-details>
                </div>
            </material-tab>
            <material-tab label="{{'journal' | phrase}}">
                <bo-journal [customerId]="customer?.id"></bo-journal>
            </material-tab>
        </material-tab-panel>
    </div>
</div>

