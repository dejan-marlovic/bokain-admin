<div class="row" *ngIf="customer != null">
    <div class="columns">
        <form #f="ngForm" [ngFormModel]="form">
            <!-- SSN -->
            <fieldset>
                <legend>{{'social_number' | phrase}}</legend>
                <div class="row">
                    <div class="medium-6 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'social_number' | phrase}}*"
                                [maxCount]="12"
                                ngControl="social_number"
                                [error]="errorMessage | phrase"
                                [(ngModel)]="customer.socialNumber">
                        </material-input>
                    </div>
                    <div class="medium-6 columns end">
                        <material-button
                                raised
                                [disabled]="!form.controls['social_number'].valid || customerService.isLoading"
                                (trigger)="fetchDetails()">
                            {{'ssn_fetch' | phrase}}
                        </material-button>
                    </div>
                </div>
            </fieldset>
            <!-- Details -->
            <fieldset>
                <legend>{{'details' | phrase}}</legend>
                <div class="row">
                    <div class="large-6 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'firstname' | phrase}}*"
                                [maxCount]="64"
                                ngControl="firstname"
                                [(ngModel)]="customer.firstname">
                        </material-input>
                    </div>
                    <div class="large-6 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'lastname' | phrase}}*"
                                [maxCount]="64"
                                ngControl="lastname"
                                [(ngModel)]="customer.lastname">
                        </material-input>
                    </div>
                    <div class="large-6 columns">
                        <material-input
                                typ="text"
                                floatingLabel
                                label="{{'careof' | phrase}}"
                                [maxCount]=64
                                [(ngModel)]="customer.careOf">
                        </material-input>
                    </div>
                    <div class="large-6 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'street' | phrase}}*"
                                [maxCount]="64"
                                ngControl="street"
                                [(ngModel)]="customer.street">
                        </material-input>
                    </div>
                    <div class="large-2 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'postal_code' | phrase}}*"
                                [maxCount]="20"
                                ngControl="postal_code"
                                [(ngModel)]="customer.postalCode">
                        </material-input>
                    </div>
                    <div class="large-4 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'city' | phrase}}*"
                                [maxCount]="64"
                                ngControl="city"
                                [(ngModel)]="customer.city">
                        </material-input>
                    </div>
                    <div class="large-3 small-6 columns">
                        <fo-select
                                label="{{'country' | phrase}}"
                                [options]="countryService.getModelsAsList()"
                                [(selectedId)]="customer.country">
                        </fo-select>
                    </div>
                    <div class="large-3 small-6 columns">
                        <fo-select
                                #langSelect
                                label="{{'language' | phrase}}"
                                [options]="languageService.getModelsAsList()"
                                [(selectedId)]="customer.language">
                        </fo-select>
                    </div>
                </div>
                <div class="row">
                    <div class="large-6 columns">
                        <material-input
                                type="email"
                                foLowercase
                                floatingLabel
                                label="{{'email' | phrase}}*"
                                [maxCount]="100"
                                ngControl="email"
                                [(ngModel)]="customer.email">
                        </material-input>
                    </div>
                    <div class="large-6 columns">
                        <material-input
                                type="text"
                                floatingLabel
                                label="{{'phone' | phrase}}*"
                                [maxCount]="32"
                                ngControl="phone"
                                [(ngModel)]="customer.phone">
                        </material-input>
                    </div>
                </div>
            </fieldset>
            <!-- Other -->
            <fieldset>
                <legend>{{'other' | phrase}}</legend>
                <div class="row">
                    <div class="large-4 columns">
                        <fo-select
                                label="{{'skin_type' | phrase}}"
                                [options]="skinTypeService.getModelsAsList()"
                                [(selectedId)]="customer.skinType">
                        </fo-select>
                    </div>
                    <div class="large-4 columns">
                        <fo-select
                                label="{{'belongs_to' | phrase}}"
                                [options]="userService.getModelsAsList()"
                                [(selectedId)]="customer.belongsTo">
                        </fo-select>
                    </div>
                    <div class="large-4 columns">
                        <bo-status-select [(status)]="customer.status"></bo-status-select>
                    </div>
                </div>
            </fieldset>
            <!-- Comments-->
            <fieldset [class.hidden]="!showComments">
                <legend>{{'comments' | phrase}}</legend>
                <div class="row">
                    <div class="large-6 columns">
                        <material-input
                                multiline rows="4"
                                floatingLabel
                                label="{{'comments_internal' | phrase}}"
                                ngControl="comments_internal"
                                [maxCount]="8000"
                                [(ngModel)]="customer.commentsInternal">
                        </material-input>
                    </div>
                    <div class="large-6 columns">
                        <material-input
                                multiline rows="4"
                                floatingLabel
                                label="{{'comments_external' | phrase}}"
                                ngControl="comments_external"
                                [maxCount]="8000"
                                [(ngModel)]="customer.commentsExternal">
                        </material-input>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>

