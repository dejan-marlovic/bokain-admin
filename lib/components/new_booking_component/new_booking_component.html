<div *ngIf="bookingBuffer != null">
    <div class="row">
        <div class="columns">
            <bo-booking-details
                [booking]="bookingBuffer">
            </bo-booking-details>
        </div>
    </div>
    <div class="row">
        <div class="columns">
            <div *ngIf="bookingBuffer.progress == 0">
                <material-tab-panel>
                    <material-tab label="{{'pick' | phrase}} {{'customer' | phrase}}">
                        <div class="row">
                            <div class="columns">
                                <fo-data-table
                                        title="{{'pick' | phrase}} {{'customer' | phrase}}"
                                        [models]="customerService.getModelsAsMap(null, true)"
                                        [disabled]="customerService.isLoading"
                                        [rows]="5"
                                        [medium-hidden-columns]="['name']"
                                        [small-hidden-columns]="['name', 'social_number']"
                                        (rowclick)="pickCustomer($event)">
                                </fo-data-table>
                            </div>
                        </div>
                    </material-tab>
                    <material-tab [label]="'new_customer' | phrase">
                        <div class="row">
                            <div class="columns">
                                <bo-customer-add (push)="pickCustomer($event)"></bo-customer-add>
                            </div>
                        </div>
                    </material-tab>
                </material-tab-panel>
            </div>
            <div class="row" *ngIf="bookingBuffer.progress >= 50">
                <div class="columns">
                    <h2 class="large-margin-top">{{'booking_confirm' | phrase}}</h2>
                    <h3>{{'booking_confirm_text' | phrase}}</h3>
                </div>
                <div class="columns text-right">
                    <material-button
                            [disabled]="bookingService.isLoading"
                            raised
                            (trigger)="goBack()">
                        <glyph icon="undo" size="large"></glyph>
                    </material-button>
                    <material-button
                            [disabled]="bookingService.isLoading"
                            raised
                            (trigger)="saveBooking()">
                        <glyph icon="send" size="large"></glyph>
                    </material-button>
                </div>
            </div>
        </div>
    </div>
</div>