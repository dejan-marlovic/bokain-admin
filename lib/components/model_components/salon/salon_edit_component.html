<h1>{{phrase.get(['edit', 'salon'])}}</h1>

<material-tab-panel>
    <material-tab label="{{phrase.get(['salon_details'])}}">
        <form [ngFormModel]="details.form">
            <bo-salon-details #details [salon]="selectedSalon"></bo-salon-details>
            <div class="row">
                <div class="columns">
                    <material-button
                            raised
                            [disabled]="salonService.isLoading"
                            (trigger)="save()">
                        {{phrase.get(['save'])}}
                    </material-button>
                    <material-button
                            raised
                            [disabled]="salonService.isLoading"
                            (trigger)="cancel()">
                        {{phrase.get(['cancel'])}}
                    </material-button>
                </div>
            </div>
        </form>
    </material-tab>
    <material-tab label="{{phrase.get(['room_plural'])}}">
        <div class="row">
            <div class="columns">
                <div class="row">
                    <div class="columns">
                        <material-expansionpanel
                            *ngFor="let roomId of selectedSalon.roomIds"
                            flat
                            [name]="salonService.getRoom(roomId).name"
                            [showSaveCancel]="false">
                            <div class="row collapse">
                                <div class="small-9 columns">
                                    <h4>{{phrase.get(['service_plural'])}}</h4>
                                    <bo-associative-table
                                        #table
                                        [sourceData]="serviceService.filteredData"
                                        [selectedIds]="salonService.getRoom(roomId).serviceIds"
                                        (fo-select)="addRoomService(roomId, $event);"
                                        (fo-unselect)="removeRoomService(roomId, $event);">
                                    </bo-associative-table>
                                </div>
                                <div class="small-3 columns">
                                    <h4>
                                        <material-button
                                            class="float-right red"
                                            raised
                                            (trigger)="removeRoom(roomId)">
                                            {{phrase.get(['delete', 'room'])}}
                                        </material-button>
                                    </h4>
                                </div>
                            </div>
                        </material-expansionpanel>
                        <hr />
                    </div>
                </div>
                <div class="row">
                    <div class="large-4 medium-6 columns end">
                        <material-input
                                type="text"
                                floatingLabel
                                foUppercase
                                label="{{phrase.get(['name'])}}*"
                                [maxCount]="100"
                                [(ngModel)]="newRoomBuffer.name">
                        </material-input>
                    </div>
                </div>
                <div class="row">
                    <div class="columns">
                        <material-button
                            raised
                            (trigger)="createRoom()"
                            [disabled]="newRoomBuffer.name.isEmpty">
                            {{phrase.get(['add'])}}
                        </material-button>
                    </div>
                </div>
            </div>
        </div>
    </material-tab>
    <material-tab label="{{phrase.get(['booking_plural'])}}">
        <div>
            <h3>Tab 3</h3>
            <p>
                dfadf
            </p>
        </div>
    </material-tab>
</material-tab-panel>

<material-toggle label="TEMP FOR TABS TO SHOW"></material-toggle> <br/>
