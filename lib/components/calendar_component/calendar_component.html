<div class="row large-margin-top">
    <div class="medium-8 columns">
        <material-button raised [class.selected]="calendarState == 'view'" (trigger)="calendarState = 'view'">{{phrase.get(['booking_calendar'])}}</material-button>
        <material-button raised [class.selected]="calendarState == 'add'" (trigger)="calendarState = 'add'">{{phrase.get(['book'])}}</material-button>
    </div>
    <div class="medium-4 columns">
        <material-toggle
                *ngIf="bookingService.rebookBuffer == null"
                class="float-right"
                label="{{phrase.get(['schedule_mode'])}}"
                [(checked)]="scheduleMode">
        </material-toggle>
    </div>
</div>
<div class="row large-margin-top">
    <div class="medium-6 columns">
        <material-dropdown-select
                [disabled]="salonService.modelOptions.optionsList.isEmpty"
                [selection]="salonSelection"
                [buttonText]="phrase.get(['salon'])"
                [options]="salonOptions">
        </material-dropdown-select>
    </div>
    <div *ngIf="selectedSalon != null" class="medium-6 columns end">
        <material-dropdown-select
                [disabled]="userService.modelOptions.optionsList.isEmpty"
                [selection]="userSelection"
                [buttonText]="phrase.get(['user'])"
                [options]="userOptions">
        </material-dropdown-select>
    </div>
</div>
<div *ngIf="selectedSalon != null" class="row large-margin-top">
    <div class="columns">

        <bo-booking-schedule
                *ngIf="calendarState == 'view'"
                [scheduleMode]="scheduleMode"
                [salon]="selectedSalon"
                [user]="selectedUser">
        </bo-booking-schedule>

        <bo-booking-add
                *ngIf="calendarState == 'add'"
                [scheduleMode]="scheduleMode"
                [salon]="selectedSalon"
                [user]="selectedUser">
        </bo-booking-add>


<!--
        <material-tab-panel [activeTabIndex]="activeTabIndex" (tabChange)="activeTabIndex = $event.newIndex">
            <material-tab label="{{phrase.get(['day'])}}">
            </material-tab>
            <material-tab label="{{phrase.get(['week'])}}">
                <div *ngIf="bookingService.rebookBuffer != null" class="row">
                    <div class="columns">
                        <div class="text-center">
                            <h3>{{phrase.get(['edit', 'booking'])}}</h3>
                            <bo-booking-details [booking]="bookingService.rebookBuffer" [showActionButtons]="false"></bo-booking-details>
                            <material-button
                                    (trigger)="bookingService.rebookBuffer = null"
                                    raised>
                                {{phrase.get(['cancel'])}}
                            </material-button>
                            <hr />
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns">
                        <bo-week-booking
                                *ngIf="!scheduleMode"
                                [disabled]="calendarService.isLoading || bookingService.isLoading || selectedSalon == null"
                                [user]="selectedUser"
                                [salon]="selectedSalon"
                                [date]="date"
                                (changeWeek)="date = $event">
                        </bo-week-booking>
                        <bo-week-schedule
                                [disabled]="calendarService.isLoading || bookingService.isLoading || selectedUser == null || selectedSalon == null"
                                *ngIf="!scheduleMode"
                                [user]="selectedUser"
                                [salon]="selectedSalon"
                                [date]="date"
                                (changeWeek)="date = $event">
                        </bo-week-schedule>
                    </div>
                </div>
            </material-tab>
            <material-tab label="{{phrase.get(['month'])}}">
                <bo-month-calendar
                        [user]="selectedUser"
                        [salon]="selectedSalon"
                        [date]="date"
                        (changeMonth)="date = $event"
                        (select)="openWeekTab($event)">
                </bo-month-calendar>
            </material-tab>
        </material-tab-panel>
        -->
    </div>
</div>