<div class="row" *ngIf="user != null">
    <div class="columns">
        <material-tab-panel>
            <material-tab label="{{'user_details' | phrase}}">
                <bo-user-details #details [user]="user"></bo-user-details>
                <div class="row">
                    <div class="columns text-right">
                        <material-button
                                raised
                                (trigger)="cancel()">
                            {{'cancel' | phrase}}
                        </material-button>
                        <material-button
                                raised
                                [disabled]="!details.valid || userService.isLoading"
                                (trigger)="save()">
                            {{'save' | phrase}}
                        </material-button>
                    </div>
                </div>
            </material-tab>
            <material-tab label="{{'customer_plural' | phrase}}">
                <div>
                    <bo-associative-table
                        [sourceModels]="customerService.getModelsAsMap(null, true)"
                        [selectedIds]="user.customerIds"
                        (select)="addCustomer($event)"
                        (unselect)="removeCustomer($event)">
                    </bo-associative-table>
                </div>
            </material-tab>
            <material-tab label="{{'salon_plural' | phrase}}">
                <div>
                    <bo-associative-table
                        [sourceModels]="salonService.getModelsAsMap(null, true)"
                        [selectedIds]="user.salonIds"
                        (select)="addSalon($event)"
                        (unselect)="removeSalon($event)">
                    </bo-associative-table>
                </div>
            </material-tab>
            <material-tab label="{{'service_plural' | phrase}}">
                <div>
                    <bo-associative-table
                            [sourceModels]="serviceService.getModelsAsMap(null, true)"
                            [selectedIds]="user.serviceIds"
                            (select)="addService($event)"
                            (unselect)="removeService($event)">
                    </bo-associative-table>
                </div>
            </material-tab>
            <material-tab label="{{'booking_plural' | phrase}}">
                <div>
                    <fo-data-table
                            [no-results-message]="'no_results' | phrase"
                            [models]="bookingService.getModelsAsMap(user.bookingIds, true)"
                            [disabled]="bookingService.isLoading"
                            [rows]="10"
                            [medium-hidden-columns]="['duration_minutes' | phrase]"
                            [small-hidden-columns]="['duration_minutes' | phrase, 'salon' | phrase]"
                            (rowclick)="selectedBookingId = $event">
                    </fo-data-table>
                    <bo-booking-details [booking]="bookingService.getModel(selectedBookingId)"></bo-booking-details>
                </div>
            </material-tab>
        </material-tab-panel>
    </div>
</div>
